exports.ids=[3],exports.modules={84:function(t,e,o){"use strict";var r=o(5),l=o.n(r),n={async post(t,data){console.log("axios node_env:","production");let e="http://mall.admin.jianpiane.com";console.log("axios domain:",e),t=e+t,console.log("axios url: ",t);let o=await l.a.post(t,data);return console.log("axios status: ",o.status),o.data}};e.a={getUserIdByMobile:async data=>await n.post("/api/user/data/getUserIdByMobile",{mobile:data.mobile}),getListByUserIds:async data=>await n.post("/api/user/data/getListByUserIds",{user_ids:data.user_ids}),getOrderList:async data=>await n.post("/api/mall/order/list",data),cancelOrder:async data=>await n.post("/api/mall/order/cancel",data),updateOrder:async data=>await n.post("/api/mall/order/update",data),paymentCreate:async data=>await n.post("/api/mall/payment/create",data),paymentComplete:async data=>await n.post("/api/mall/payment/complete",data),getPaymentList:async data=>await n.post("/api/mall/payment/list",data),getGoodsList:async data=>(data.business_id=0,await n.post("/api/mall/goods/list",data)),goodsDataCreate:async data=>(data.business_id=0,await n.post("/api/mall/goods/create",data)),goodsDataUpdate:async data=>(data.business_id=0,await n.post("/api/mall/goods/update",data)),categoryDataUpdate:async data=>(data.business_id=0,await n.post("/api/mall/goods/categoryUpdate",data)),getGoodsCategoryList:async data=>(data.business_id=0,await n.post("/api/mall/goods/categorys",data)),getProfitList:async data=>await n.post("/api/mall/profit/list",data),getAssetsList:async data=>await n.post("/api/mall/assets/list",data),getAssetsLogsList:async data=>await n.post("/api/mall/assets/listLogs",data),getWithdrawList:async data=>await n.post("/api/mall/withdraw/list",data),withdrawAudit:async data=>await n.post("/api/mall/withdraw/audit",data),statisticsTodayData:async(data={})=>await n.post("/api/mall/statistics/today",data)}},85:function(t,e,o){"use strict";var r=o(83),l=o.n(r);e.a={formValidata:t=>new Promise((e,o)=>{t.validate(t=>{e(!!t)})}),unLimitTreeLevel(t,e=0){var o=[],r=function(t,e,l){for(var i=0;i<t.length;i++){var n=t[i];if(n.pid==e){n.level=l,n.html="";for(let t=0;t<l;t++)n.html+=" -- ";o.push(n),r(t,n.id,l+1)}}};return r(t,e,0),o},getTimestamp(t){let e=new Date(t);return parseInt(e.getTime()/1e3)},dateFormat(t,e){e=e||"YYYY-MM-DD HH:mm";let o=null;return o=t?new Date(1e3*t):new Date,l()(o).format(e)},dateDisplay(t){let e=parseInt(Date.now()/1e3)-t;if(e<60)return e+"秒前";if(e>=60&&e<3600)return parseInt(e/60).toString()+"分钟前";if(e>=3600&&e<86400)return parseInt(e/3600).toString()+"小时前";if(e>=86400&&e<2592e3)return parseInt(e/3600/24).toString()+"天前";{let e="YYYY-MM-DD HH:mm",o=new Date(1e3*t);return l()(o).format(e)}},monthPlus(t,e=1,o=!0){let r=[31,28,31,30,31,30,31,31,30,31,30,31],l=parseInt(this.dateFormat(t,"YYYY")),n=parseInt(this.dateFormat(t,"MM")),c=parseInt(this.dateFormat(t,"DD"));r[1]=l%4==0&&l/100!=0||l%100==0&&l%400==0?29:28;let d=0;d+=r[n-1]-c;for(let i=0;i<e;i++){(n+=1)>12&&(n=1,l+=1),r[1]=l%4==0&&l/100!=0||l%100==0&&l%400==0?29:28;let t=r[n-1];i==e-1&&(t=t-c<0?t:c),console.log("for days:",t),d+=t}return o?(t=t||parseInt(Date.now()/1e3))+24*d*3600:d}}},88:function(t,e,o){"use strict";o.r(e);var r=o(84),l={head:()=>({title:"商品分类"}),data:()=>({listData:{list:[],page:1,limit:0,count:0,search:""},categoryData:{id:0,name:"",title:"",status:0,sort:0},rulesCategoryUpdate:{},dialogCategoryUpdateVisible:!1,categoryInfoUpdateBtn:{disabled:!1}}),methods:{...o(85).a,async getListData(){let data={};data.page=this.listData.page,data.limit=this.listData.limit,data.search=this.listData.search;try{let t=await r.a.getGoodsCategoryList(data);if(console.log("/getListData dataRet:",t),0!==t.code)throw new Error(t.message);this.listData.count=t.data.count,t.data.rows.forEach(t=>{this.listData.list.push(t)})}catch(t){this.$message.error(t.message||"获取用户数据失败")}},pageChange(t){this.listData.list=[],this.listData.page=t,this.getListData()},async getListRefresh(){this.listData.list=[],this.listData.count=0,this.getListData()},categorAddBtnClick(){this.categoryData={id:0,name:"",title:"",status:0,sort:0},this.dialogCategoryUpdateVisible=!0},categorUpdateBtnClick(t){Object.keys(this.categoryData).forEach(e=>{t.hasOwnProperty(e)&&(this.categoryData[e]=t[e])}),this.dialogCategoryUpdateVisible=!0},async categoryDeleteBtnClick(t){try{let t=await this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});if(console.log("/categoryDeleteBtnClick confirm",t),"confirm"!==t)return}catch(t){return void console.error("/categoryDeleteBtnClick err:",t.message||t)}let data=Object.assign({},t);data.status=-1;try{let t=await r.a.categoryDataUpdate(data);if(0!==t.code)throw new Error(t.message);this.$message.success("更新商品数据成功"),this.getListRefresh()}catch(t){this.$message.error(t.message)}},async categoryInfoUpdate(){let t=await this.$refs.formCategoryUpdate.validate();if(console.log("/categoryInfoUpdate valid:",t),!0!==t)return;let data=Object.assign({},this.categoryData);console.log("/goodsInfoUpdate data:",data),this.categoryInfoUpdateBtn.disabled=!0;try{let t=await r.a.categoryDataUpdate(data);if(0!==t.code)throw new Error(t.message);this.$message.success("更新商品分类数据成功"),this.getListRefresh()}catch(t){this.$message.error(t.message)}this.categoryInfoUpdateBtn.disabled=!1,this.dialogCategoryUpdateVisible=!1}},created(){this.getListData(),this.$store.commit("subNavIndexSet","4")}},n=o(2),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{attrs:{data:t.listData.list}},[o("el-table-column",{attrs:{label:"标识",prop:"name"}}),t._v(" "),o("el-table-column",{attrs:{label:"分类名称",prop:"title"}}),t._v(" "),o("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?o("span",{staticClass:"text-gray-500"},[t._v("禁用")]):t._e(),t._v(" "),1==e.row.status?o("span",{staticClass:"text-green-500"},[t._v("正常")]):t._e()]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"排序",prop:"sort"}}),t._v(" "),o("el-table-column",{attrs:{align:"right",width:"200"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.categorAddBtnClick}},[t._v("添加")])]}},{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(o){return t.categorUpdateBtnClick(e.row)}}},[t._v("查看 / 编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.categoryDeleteBtnClick(e.row)}}},[t._v("删除")])]}}])})],1),t._ssrNode(" "),o("el-dialog",{attrs:{title:"商品分类添加 / 编辑",visible:t.dialogCategoryUpdateVisible},on:{"update:visible":function(e){t.dialogCategoryUpdateVisible=e}}},[o("el-form",{ref:"formCategoryUpdate",attrs:{model:t.categoryData,"label-width":"100px",rules:t.rulesCategoryUpdate}},[o("el-form-item",{attrs:{label:"分类标识",prop:"name"}},[o("el-input",{model:{value:t.categoryData.name,callback:function(e){t.$set(t.categoryData,"name",e)},expression:"categoryData.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"分类名称",prop:"title"}},[o("el-input",{model:{value:t.categoryData.title,callback:function(e){t.$set(t.categoryData,"title",e)},expression:"categoryData.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"排序"}},[o("el-input-number",{attrs:{min:0,label:""},model:{value:t.categoryData.sort,callback:function(e){t.$set(t.categoryData,"sort",e)},expression:"categoryData.sort"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"状态"}},[o("el-radio",{attrs:{label:1},model:{value:t.categoryData.status,callback:function(e){t.$set(t.categoryData,"status",e)},expression:"categoryData.status"}},[t._v("正常")]),t._v(" "),o("el-radio",{attrs:{label:0},model:{value:t.categoryData.status,callback:function(e){t.$set(t.categoryData,"status",e)},expression:"categoryData.status"}},[t._v("禁用")])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogGoodsUpdateVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary",disabled:t.categoryInfoUpdateBtn.disabled},on:{click:t.categoryInfoUpdate}},[t._v("确定")])],1)],1)],2)}),[],!1,null,null,"0004940a");e.default=component.exports}};