(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{312:function(t,e,r){"use strict";r(55);var n,o,c,l,m,f,d,j,h,y,v,k,w=r(5),D=r(41),x=r.n(D),O={post:(n=Object(w.a)(regeneratorRuntime.mark((function t(e,data){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("axios node_env:","production"),r="http://mall.admin.jianpiane.com",console.log("axios domain:",r),e=r+e,console.log("axios url: ",e),t.next=7,x.a.post(e,data);case 7:return n=t.sent,console.log("axios status: ",n.status),t.abrupt("return",n.data);case 10:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)})};e.a={getOrderList:(k=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.post("/api/mall/order/list",data);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(t){return k.apply(this,arguments)}),cancelOrder:(v=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.post("/api/mall/order/cancel",data);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(t){return v.apply(this,arguments)}),paymentCreate:(y=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.post("/api/mall/payment/create",data);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(t){return y.apply(this,arguments)}),paymentComplete:(h=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.post("/api/mall/payment/complete",data);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)}),getPaymentList:(j=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.post("/api/mall/payment/list",data);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(t){return j.apply(this,arguments)}),getGoodsList:(d=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.business_id=0,t.next=3,O.post("/api/mall/goods/list",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),goodsDataCreate:(f=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.business_id=0,t.next=3,O.post("/api/mall/goods/create",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),goodsDataUpdate:(m=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.business_id=0,t.next=3,O.post("/api/mall/goods/update",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(t){return m.apply(this,arguments)}),categoryDataUpdate:(l=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.business_id=0,t.next=3,O.post("/api/mall/goods/categoryUpdate",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),getGoodsCategoryList:(c=Object(w.a)(regeneratorRuntime.mark((function t(data){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data.business_id=0,t.next=3,O.post("/api/mall/goods/categorys",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),statisticsTodayData:(o=Object(w.a)(regeneratorRuntime.mark((function t(){var data,e,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data=r.length>0&&void 0!==r[0]?r[0]:{},t.next=3,O.post("/api/mall/statistics/today",data);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}},440:function(t,e,r){"use strict";r(122),r(123),r(15);var n=r(311),o=r.n(n);e.a={formValidata:function(t){return new Promise((function(e,r){t.validate((function(t){e(!!t)}))}))},unLimitTreeLevel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,o=function t(e,n,o){for(var i=0;i<e.length;i++){var c=e[i];if(c.pid==n){c.level=o,c.html="";for(var l=0;l<o;l++)c.html+=" -- ";r.push(c),t(e,c.id,o+1)}}};return o(t,e,n),r},getTimestamp:function(t){var e=new Date(t);return parseInt(e.getTime()/1e3)},dateFormat:function(t,e){e=e||"YYYY-MM-DD HH:mm";var r=null;return r=t?new Date(1e3*t):new Date,o()(r).format(e)},dateDisplay:function(t){var e=parseInt(Date.now()/1e3)-t;if(e<60)return e+"秒前";if(e>=60&&e<3600)return parseInt(e/60).toString()+"分钟前";if(e>=3600&&e<86400)return parseInt(e/3600).toString()+"小时前";if(e>=86400&&e<2592e3)return parseInt(e/3600/24).toString()+"天前";var r=new Date(1e3*t);return o()(r).format("YYYY-MM-DD HH:mm")},monthPlus:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[31,28,31,30,31,30,31,31,30,31,30,31],o=parseInt(this.dateFormat(t,"YYYY")),c=parseInt(this.dateFormat(t,"MM")),l=parseInt(this.dateFormat(t,"DD"));n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var m=0,f=n[c-1]-l;m+=f;for(var i=0;i<e;i++){(c+=1)>12&&(c=1,o+=1),n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var d=n[c-1];i==e-1&&(d=d-l<0?d:l),console.log("for days:",d),m+=d}return r?(t=t||parseInt(Date.now()/1e3))+24*m*3600:m}}},441:function(t,e,r){var map={"./af":313,"./af.js":313,"./ar":314,"./ar-dz":315,"./ar-dz.js":315,"./ar-kw":316,"./ar-kw.js":316,"./ar-ly":317,"./ar-ly.js":317,"./ar-ma":318,"./ar-ma.js":318,"./ar-sa":319,"./ar-sa.js":319,"./ar-tn":320,"./ar-tn.js":320,"./ar.js":314,"./az":321,"./az.js":321,"./be":322,"./be.js":322,"./bg":323,"./bg.js":323,"./bm":324,"./bm.js":324,"./bn":325,"./bn.js":325,"./bo":326,"./bo.js":326,"./br":327,"./br.js":327,"./bs":328,"./bs.js":328,"./ca":329,"./ca.js":329,"./cs":330,"./cs.js":330,"./cv":331,"./cv.js":331,"./cy":332,"./cy.js":332,"./da":333,"./da.js":333,"./de":334,"./de-at":335,"./de-at.js":335,"./de-ch":336,"./de-ch.js":336,"./de.js":334,"./dv":337,"./dv.js":337,"./el":338,"./el.js":338,"./en-SG":339,"./en-SG.js":339,"./en-au":340,"./en-au.js":340,"./en-ca":341,"./en-ca.js":341,"./en-gb":342,"./en-gb.js":342,"./en-ie":343,"./en-ie.js":343,"./en-il":344,"./en-il.js":344,"./en-nz":345,"./en-nz.js":345,"./eo":346,"./eo.js":346,"./es":347,"./es-do":348,"./es-do.js":348,"./es-us":349,"./es-us.js":349,"./es.js":347,"./et":350,"./et.js":350,"./eu":351,"./eu.js":351,"./fa":352,"./fa.js":352,"./fi":353,"./fi.js":353,"./fo":354,"./fo.js":354,"./fr":355,"./fr-ca":356,"./fr-ca.js":356,"./fr-ch":357,"./fr-ch.js":357,"./fr.js":355,"./fy":358,"./fy.js":358,"./ga":359,"./ga.js":359,"./gd":360,"./gd.js":360,"./gl":361,"./gl.js":361,"./gom-latn":362,"./gom-latn.js":362,"./gu":363,"./gu.js":363,"./he":364,"./he.js":364,"./hi":365,"./hi.js":365,"./hr":366,"./hr.js":366,"./hu":367,"./hu.js":367,"./hy-am":368,"./hy-am.js":368,"./id":369,"./id.js":369,"./is":370,"./is.js":370,"./it":371,"./it-ch":372,"./it-ch.js":372,"./it.js":371,"./ja":373,"./ja.js":373,"./jv":374,"./jv.js":374,"./ka":375,"./ka.js":375,"./kk":376,"./kk.js":376,"./km":377,"./km.js":377,"./kn":378,"./kn.js":378,"./ko":379,"./ko.js":379,"./ku":380,"./ku.js":380,"./ky":381,"./ky.js":381,"./lb":382,"./lb.js":382,"./lo":383,"./lo.js":383,"./lt":384,"./lt.js":384,"./lv":385,"./lv.js":385,"./me":386,"./me.js":386,"./mi":387,"./mi.js":387,"./mk":388,"./mk.js":388,"./ml":389,"./ml.js":389,"./mn":390,"./mn.js":390,"./mr":391,"./mr.js":391,"./ms":392,"./ms-my":393,"./ms-my.js":393,"./ms.js":392,"./mt":394,"./mt.js":394,"./my":395,"./my.js":395,"./nb":396,"./nb.js":396,"./ne":397,"./ne.js":397,"./nl":398,"./nl-be":399,"./nl-be.js":399,"./nl.js":398,"./nn":400,"./nn.js":400,"./pa-in":401,"./pa-in.js":401,"./pl":402,"./pl.js":402,"./pt":403,"./pt-br":404,"./pt-br.js":404,"./pt.js":403,"./ro":405,"./ro.js":405,"./ru":406,"./ru.js":406,"./sd":407,"./sd.js":407,"./se":408,"./se.js":408,"./si":409,"./si.js":409,"./sk":410,"./sk.js":410,"./sl":411,"./sl.js":411,"./sq":412,"./sq.js":412,"./sr":413,"./sr-cyrl":414,"./sr-cyrl.js":414,"./sr.js":413,"./ss":415,"./ss.js":415,"./sv":416,"./sv.js":416,"./sw":417,"./sw.js":417,"./ta":418,"./ta.js":418,"./te":419,"./te.js":419,"./tet":420,"./tet.js":420,"./tg":421,"./tg.js":421,"./th":422,"./th.js":422,"./tl-ph":423,"./tl-ph.js":423,"./tlh":424,"./tlh.js":424,"./tr":425,"./tr.js":425,"./tzl":426,"./tzl.js":426,"./tzm":427,"./tzm-latn":428,"./tzm-latn.js":428,"./tzm.js":427,"./ug-cn":429,"./ug-cn.js":429,"./uk":430,"./uk.js":430,"./ur":431,"./ur.js":431,"./uz":432,"./uz-latn":433,"./uz-latn.js":433,"./uz.js":432,"./vi":434,"./vi.js":434,"./x-pseudo":435,"./x-pseudo.js":435,"./yo":436,"./yo.js":436,"./zh-cn":437,"./zh-cn.js":437,"./zh-hk":438,"./zh-hk.js":438,"./zh-tw":439,"./zh-tw.js":439};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=441},445:function(t,e,r){"use strict";r.r(e);r(121),r(40),r(29),r(15),r(81),r(177),r(55);var n=r(5),o=r(56),c=r(312);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var m,f,d,j,h={head:function(){return{title:"商品分类"}},data:function(){return{listData:{list:[],page:1,limit:0,count:0,search:""},categoryData:{id:0,name:"",title:"",status:0,sort:0},rulesCategoryUpdate:{},dialogCategoryUpdateVisible:!1,categoryInfoUpdateBtn:{disabled:!1}}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(source,!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},r(440).a,{getListData:(j=Object(n.a)(regeneratorRuntime.mark((function t(){var data,e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(data={}).page=this.listData.page,data.limit=this.listData.limit,data.search=this.listData.search,t.prev=4,t.next=7,c.a.getGoodsCategoryList(data);case 7:if(e=t.sent,console.log("/getListData dataRet:",e),0!==e.code){t.next=14;break}this.listData.count=e.data.count,e.data.rows.forEach((function(t){r.listData.list.push(t)})),t.next=15;break;case 14:throw new Error(e.message);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),this.$message.error(t.t0.message||"获取用户数据失败");case 20:case"end":return t.stop()}}),t,this,[[4,17]])}))),function(){return j.apply(this,arguments)}),pageChange:function(t){this.listData.list=[],this.listData.page=t,this.getListData()},getListRefresh:(d=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.listData.list=[],this.listData.count=0,this.getListData();case 3:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)}),categorAddBtnClick:function(){this.categoryData={id:0,name:"",title:"",status:0,sort:0},this.dialogCategoryUpdateVisible=!0},categorUpdateBtnClick:function(t){var e=this;Object.keys(this.categoryData).forEach((function(r){t.hasOwnProperty(r)&&(e.categoryData[r]=t[r])})),this.dialogCategoryUpdateVisible=!0},categoryDeleteBtnClick:(f=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:if(r=t.sent,console.log("/categoryDeleteBtnClick confirm",r),"confirm"===r){t.next=7;break}return t.abrupt("return");case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error("/categoryDeleteBtnClick err:",t.t0.message||t.t0),t.abrupt("return");case 13:return(data=Object.assign({},e)).status=-1,t.prev=15,t.next=18,c.a.categoryDataUpdate(data);case 18:if(0===(n=t.sent).code){t.next=21;break}throw new Error(n.message);case 21:this.$message.success("更新商品数据成功"),this.getListRefresh(),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(15),this.$message.error(t.t1.message);case 28:case"end":return t.stop()}}),t,this,[[0,9],[15,25]])}))),function(t){return f.apply(this,arguments)}),categoryInfoUpdate:(m=Object(n.a)(regeneratorRuntime.mark((function t(){var e,data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.formCategoryUpdate.validate();case 2:if(e=t.sent,console.log("/categoryInfoUpdate valid:",e),!0===e){t.next=6;break}return t.abrupt("return");case 6:return data=Object.assign({},this.categoryData),console.log("/goodsInfoUpdate data:",data),this.categoryInfoUpdateBtn.disabled=!0,t.prev=9,t.next=12,c.a.categoryDataUpdate(data);case 12:if(0===(r=t.sent).code){t.next=15;break}throw new Error(r.message);case 15:this.$message.success("更新商品分类数据成功"),this.getListRefresh(),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),this.$message.error(t.t0.message);case 22:this.categoryInfoUpdateBtn.disabled=!1,this.dialogCategoryUpdateVisible=!1;case 24:case"end":return t.stop()}}),t,this,[[9,19]])}))),function(){return m.apply(this,arguments)})}),created:function(){this.getListData()}},y=r(16),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-table",{attrs:{data:t.listData.list}},[r("el-table-column",{attrs:{label:"标识",prop:"name"}}),t._v(" "),r("el-table-column",{attrs:{label:"分类名称",prop:"title"}}),t._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?r("span",{staticClass:"text-gray-500"},[t._v("禁用")]):t._e(),t._v(" "),1==e.row.status?r("span",{staticClass:"text-green-500"},[t._v("正常")]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"排序",prop:"sort"}}),t._v(" "),r("el-table-column",{attrs:{align:"right",width:"200"},scopedSlots:t._u([{key:"header",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.categorAddBtnClick}},[t._v("添加")])]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(r){return t.categorUpdateBtnClick(e.row)}}},[t._v("查看 / 编辑")]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.categoryDeleteBtnClick(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-dialog",{attrs:{title:"商品分类添加 / 编辑",visible:t.dialogCategoryUpdateVisible},on:{"update:visible":function(e){t.dialogCategoryUpdateVisible=e}}},[r("el-form",{ref:"formCategoryUpdate",attrs:{model:t.categoryData,"label-width":"100px",rules:t.rulesCategoryUpdate}},[r("el-form-item",{attrs:{label:"分类标识",prop:"name"}},[r("el-input",{model:{value:t.categoryData.name,callback:function(e){t.$set(t.categoryData,"name",e)},expression:"categoryData.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"分类名称",prop:"title"}},[r("el-input",{model:{value:t.categoryData.title,callback:function(e){t.$set(t.categoryData,"title",e)},expression:"categoryData.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"排序"}},[r("el-input-number",{attrs:{min:0,label:""},model:{value:t.categoryData.sort,callback:function(e){t.$set(t.categoryData,"sort",e)},expression:"categoryData.sort"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"状态"}},[r("el-radio",{attrs:{label:1},model:{value:t.categoryData.status,callback:function(e){t.$set(t.categoryData,"status",e)},expression:"categoryData.status"}},[t._v("正常")]),t._v(" "),r("el-radio",{attrs:{label:0},model:{value:t.categoryData.status,callback:function(e){t.$set(t.categoryData,"status",e)},expression:"categoryData.status"}},[t._v("禁用")])],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogGoodsUpdateVisible=!1}}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",disabled:t.categoryInfoUpdateBtn.disabled},on:{click:t.categoryInfoUpdate}},[t._v("确定")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);