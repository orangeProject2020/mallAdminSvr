(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{312:function(e,t,r){"use strict";r(55);var n,o,c,l,d,m,f,h,j,v,x,w,_,y,k,O,R,C,D,L,S=r(5),U=r(41),I=r.n(U),z={post:(n=Object(S.a)(regeneratorRuntime.mark((function e(t,data){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("axios node_env:","production"),r="http://mall.admin.jianpiane.com",console.log("axios domain:",r),t=r+t,console.log("axios url: ",t),e.next=7,I.a.post(t,data);case 7:return n=e.sent,console.log("axios status: ",n.status),e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})};t.a={getUserIdByMobile:(L=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/user/data/getUserIdByMobile",{mobile:data.mobile});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)}),getListByUserIds:(D=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/user/data/getListByUserIds",{user_ids:data.user_ids});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return D.apply(this,arguments)}),getOrderList:(C=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/order/list",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)}),cancelOrder:(R=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/order/cancel",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)}),updateOrder:(O=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/order/update",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)}),paymentCreate:(k=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/payment/create",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)}),paymentComplete:(y=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/payment/complete",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)}),getPaymentList:(_=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/payment/list",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)}),getGoodsList:(w=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data.business_id=0,e.next=3,z.post("/api/mall/goods/list",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)}),goodsDataCreate:(x=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data.business_id=0,e.next=3,z.post("/api/mall/goods/create",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),goodsDataUpdate:(v=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data.business_id=0,e.next=3,z.post("/api/mall/goods/update",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)}),categoryDataUpdate:(j=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data.business_id=0,e.next=3,z.post("/api/mall/goods/categoryUpdate",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return j.apply(this,arguments)}),getGoodsCategoryList:(h=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data.business_id=0,e.next=3,z.post("/api/mall/goods/categorys",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),getProfitList:(f=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/profit/list",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),getAssetsList:(m=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/assets/list",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)}),getAssetsLogsList:(d=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/assets/listLogs",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),getWithdrawList:(l=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/withdraw/list",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),withdrawAudit:(c=Object(S.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/mall/withdraw/audit",data);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)}),statisticsTodayData:(o=Object(S.a)(regeneratorRuntime.mark((function e(){var data,t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,z.post("/api/mall/statistics/today",data);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}},440:function(e,t,r){"use strict";r(122),r(123),r(15);var n=r(311),o=r.n(n);t.a={formValidata:function(e){return new Promise((function(t,r){e.validate((function(e){t(!!e)}))}))},unLimitTreeLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,o=function e(t,n,o){for(var i=0;i<t.length;i++){var c=t[i];if(c.pid==n){c.level=o,c.html="";for(var l=0;l<o;l++)c.html+=" -- ";r.push(c),e(t,c.id,o+1)}}};return o(e,t,n),r},getTimestamp:function(e){var t=new Date(e);return parseInt(t.getTime()/1e3)},dateFormat:function(e,t){t=t||"YYYY-MM-DD HH:mm";var r=null;return r=e?new Date(1e3*e):new Date,o()(r).format(t)},dateDisplay:function(e){var t=parseInt(Date.now()/1e3)-e;if(t<60)return t+"秒前";if(t>=60&&t<3600)return parseInt(t/60).toString()+"分钟前";if(t>=3600&&t<86400)return parseInt(t/3600).toString()+"小时前";if(t>=86400&&t<2592e3)return parseInt(t/3600/24).toString()+"天前";var r=new Date(1e3*e);return o()(r).format("YYYY-MM-DD HH:mm")},monthPlus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[31,28,31,30,31,30,31,31,30,31,30,31],o=parseInt(this.dateFormat(e,"YYYY")),c=parseInt(this.dateFormat(e,"MM")),l=parseInt(this.dateFormat(e,"DD"));n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var d=0,m=n[c-1]-l;d+=m;for(var i=0;i<t;i++){(c+=1)>12&&(c=1,o+=1),n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var f=n[c-1];i==t-1&&(f=f-l<0?f:l),console.log("for days:",f),d+=f}return r?(e=e||parseInt(Date.now()/1e3))+24*d*3600:d}}},441:function(e,t,r){var map={"./af":313,"./af.js":313,"./ar":314,"./ar-dz":315,"./ar-dz.js":315,"./ar-kw":316,"./ar-kw.js":316,"./ar-ly":317,"./ar-ly.js":317,"./ar-ma":318,"./ar-ma.js":318,"./ar-sa":319,"./ar-sa.js":319,"./ar-tn":320,"./ar-tn.js":320,"./ar.js":314,"./az":321,"./az.js":321,"./be":322,"./be.js":322,"./bg":323,"./bg.js":323,"./bm":324,"./bm.js":324,"./bn":325,"./bn.js":325,"./bo":326,"./bo.js":326,"./br":327,"./br.js":327,"./bs":328,"./bs.js":328,"./ca":329,"./ca.js":329,"./cs":330,"./cs.js":330,"./cv":331,"./cv.js":331,"./cy":332,"./cy.js":332,"./da":333,"./da.js":333,"./de":334,"./de-at":335,"./de-at.js":335,"./de-ch":336,"./de-ch.js":336,"./de.js":334,"./dv":337,"./dv.js":337,"./el":338,"./el.js":338,"./en-SG":339,"./en-SG.js":339,"./en-au":340,"./en-au.js":340,"./en-ca":341,"./en-ca.js":341,"./en-gb":342,"./en-gb.js":342,"./en-ie":343,"./en-ie.js":343,"./en-il":344,"./en-il.js":344,"./en-nz":345,"./en-nz.js":345,"./eo":346,"./eo.js":346,"./es":347,"./es-do":348,"./es-do.js":348,"./es-us":349,"./es-us.js":349,"./es.js":347,"./et":350,"./et.js":350,"./eu":351,"./eu.js":351,"./fa":352,"./fa.js":352,"./fi":353,"./fi.js":353,"./fo":354,"./fo.js":354,"./fr":355,"./fr-ca":356,"./fr-ca.js":356,"./fr-ch":357,"./fr-ch.js":357,"./fr.js":355,"./fy":358,"./fy.js":358,"./ga":359,"./ga.js":359,"./gd":360,"./gd.js":360,"./gl":361,"./gl.js":361,"./gom-latn":362,"./gom-latn.js":362,"./gu":363,"./gu.js":363,"./he":364,"./he.js":364,"./hi":365,"./hi.js":365,"./hr":366,"./hr.js":366,"./hu":367,"./hu.js":367,"./hy-am":368,"./hy-am.js":368,"./id":369,"./id.js":369,"./is":370,"./is.js":370,"./it":371,"./it-ch":372,"./it-ch.js":372,"./it.js":371,"./ja":373,"./ja.js":373,"./jv":374,"./jv.js":374,"./ka":375,"./ka.js":375,"./kk":376,"./kk.js":376,"./km":377,"./km.js":377,"./kn":378,"./kn.js":378,"./ko":379,"./ko.js":379,"./ku":380,"./ku.js":380,"./ky":381,"./ky.js":381,"./lb":382,"./lb.js":382,"./lo":383,"./lo.js":383,"./lt":384,"./lt.js":384,"./lv":385,"./lv.js":385,"./me":386,"./me.js":386,"./mi":387,"./mi.js":387,"./mk":388,"./mk.js":388,"./ml":389,"./ml.js":389,"./mn":390,"./mn.js":390,"./mr":391,"./mr.js":391,"./ms":392,"./ms-my":393,"./ms-my.js":393,"./ms.js":392,"./mt":394,"./mt.js":394,"./my":395,"./my.js":395,"./nb":396,"./nb.js":396,"./ne":397,"./ne.js":397,"./nl":398,"./nl-be":399,"./nl-be.js":399,"./nl.js":398,"./nn":400,"./nn.js":400,"./pa-in":401,"./pa-in.js":401,"./pl":402,"./pl.js":402,"./pt":403,"./pt-br":404,"./pt-br.js":404,"./pt.js":403,"./ro":405,"./ro.js":405,"./ru":406,"./ru.js":406,"./sd":407,"./sd.js":407,"./se":408,"./se.js":408,"./si":409,"./si.js":409,"./sk":410,"./sk.js":410,"./sl":411,"./sl.js":411,"./sq":412,"./sq.js":412,"./sr":413,"./sr-cyrl":414,"./sr-cyrl.js":414,"./sr.js":413,"./ss":415,"./ss.js":415,"./sv":416,"./sv.js":416,"./sw":417,"./sw.js":417,"./ta":418,"./ta.js":418,"./te":419,"./te.js":419,"./tet":420,"./tet.js":420,"./tg":421,"./tg.js":421,"./th":422,"./th.js":422,"./tl-ph":423,"./tl-ph.js":423,"./tlh":424,"./tlh.js":424,"./tr":425,"./tr.js":425,"./tzl":426,"./tzl.js":426,"./tzm":427,"./tzm-latn":428,"./tzm-latn.js":428,"./tzm.js":427,"./ug-cn":429,"./ug-cn.js":429,"./uk":430,"./uk.js":430,"./ur":431,"./ur.js":431,"./uz":432,"./uz-latn":433,"./uz-latn.js":433,"./uz.js":432,"./vi":434,"./vi.js":434,"./x-pseudo":435,"./x-pseudo.js":435,"./yo":436,"./yo.js":436,"./zh-cn":437,"./zh-cn.js":437,"./zh-hk":438,"./zh-hk.js":438,"./zh-tw":439,"./zh-tw.js":439};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=441},443:function(e,t,r){"use strict";r.r(t);r(121),r(40),r(29),r(15),r(81),r(82),r(177),r(55);var n=r(5),o=r(56),c=r(440),l=r(312);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m,f,h,j,v,x={head:function(){return{title:"订单管理"}},data:function(){return{list:[],page:1,limit:10,count:0,statusVal:"",search:"",searchUserId:"",userList:[],statusOptions:[{id:"",name:"所有"},{id:0,name:"未付款"},{id:1,name:"待发货"},{id:2,name:"待收货"},{id:3,name:"已完成"},{id:-1,name:"已取消"}],dialogExpressUpdateVisible:!1,orderExpressInfoUpdateBtn:{disabled:!1},expressOrder:{},expressData:{},rulesExpressData:{company:[{required:!0,message:"请输入物流公司名称",trigger:"blur"}],no:[{required:!0,message:"请输入物流单号",trigger:"blur"}]}}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},c.a,{getList:(v=Object(n.a)(regeneratorRuntime.mark((function e(){var data,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(data={}).page=this.page,data.limit=this.limit,""!==this.statusVal&&(data.status=this.statusVal),this.search&&(this.search.length>20?data.order_no=this.search:11==this.search.length?data.user_id=this.searchUserId:this.search.length<11&&(data.order_id=this.search)),e.next=7,l.a.getOrderList(data);case 7:t=e.sent,console.log("/getList ret",t),this.list=t.data.rows,this.count=t.data.count;case 11:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)}),getSearchList:(j=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.search,11!=this.search.length){e.next=9;break}return e.next=4,l.a.getUserIdByMobile({mobile:this.search});case 4:t=e.sent,console.log("/getSearchList searchRet:",t),0===t.code&&t.data&&t.data.id?this.searchUserId=t.data.uuid:this.searchUserId="",e.next=10;break;case 9:this.searchUserId="";case 10:this.page=1,this.getList();case 12:case"end":return e.stop()}}),e,this)}))),function(){return j.apply(this,arguments)}),pageChange:function(e){console.log("/pageChange:",e),this.page=e,this.getList()},statusChange:function(){console.log("/statusChange:",this.statusVal),this.page=1,this.getList()},orderCancel:function(e){var t=this,r={};r.id=e.id,r.user_id=e.user_id,r.cancel_reason="后台取消",this.$confirm("是否将该订单设置为取消状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.cancelOrder(r);case 2:o=n.sent,console.log("/orderCancel cancelRet:",o),0==o.code?(e.status=-1,t.$message({type:"success",message:"取消成功!"})):t.$message({type:"info",message:r.message});case 5:case"end":return n.stop()}}),n)})))).catch((function(){}))},orderComplete:function(e){var t=this;this.$confirm("是否确认该订单已支付, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.orderCompleteSubmit(e);case 2:n=r.sent,console.log("/orderComplete orderCompleteRet:",n),0==n.code?(e.status=1,t.$message({type:"success",message:"确认成功!"})):t.$message({type:"info",message:n.message});case 5:case"end":return r.stop()}}),r)})))).catch((function(){}))},orderCompleteSubmit:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:t.user_id,order_ids:[t.id],total:t.total,amount:t.total,score:0,pay_type:0,pay_method:0,balance:0,coupon:0,user_coupon_id:0,remark:"后台生成"},e.next=3,l.a.paymentCreate(r);case 3:if(n=e.sent,console.log("/orderCompleteSubmit paymentCreateRet:",n),!n.code){e.next=7;break}return e.abrupt("return",n);case 7:return o=n.data.out_trade_no,c={user_id:t.user_id,out_trade_no:o,remark:"后台确认"},e.next=11,l.a.paymentComplete(c);case 11:return d=e.sent,console.log("/orderCompleteSubmit paymentCompleteRet:",d),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),orderExpressBtnClick:function(e){this.expressOrder=e;var t=e.express_info?JSON.parse(e.express_info):{};this.expressData=Object.assign({},t),this.dialogExpressUpdateVisible=!0},orderExpressInfoUpdate:(f=Object(n.a)(regeneratorRuntime.mark((function e(){var data,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.orderExpressInfoUpdateBtn.disabled=!0,data={order_id:this.expressOrder.id,user_id:this.expressOrder.user_id,express_info:JSON.stringify(this.expressData)},e.prev=2,e.next=5,l.a.updateOrder(data);case 5:if(0!=(t=e.sent).code){e.next=11;break}this.$message("更新物流信息成功"),this.getList(),e.next=12;break;case 11:throw new Error(t.message);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this.$message.error(e.t0.message||e.t0);case 17:this.dialogExpressUpdateVisible=!1,this.orderExpressInfoUpdateBtn.disabled=!1;case 19:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(){return f.apply(this,arguments)}),showAddress:function(e){var t=e?JSON.parse(e):{};if(!t||!t.id||t.id<=0)return"-";var r="";return r+="<p>".concat(t.name," / ").concat(t.tel," / ").concat(t.postalCode,"</p>"),r+='<p class="text-gray-500 text-xl">'.concat(t.province,"/").concat(t.city,"/").concat(t.county," / ").concat(t.address,"</p>")},getUserList:(m=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.userList=[],this.list.forEach((function(e){t.push(e.user_id)})),e.next=5,l.a.getListByUserIds({user_ids:t});case 5:r=e.sent,console.log("/getUserList ret:",r),0===r.code&&(this.userList=r.data);case 8:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})}),created:function(){var e=this;this.getList().then((function(){e.getUserList()})),this.$store.commit("subNavIndexSet","1")}},w=r(16),component=Object(w.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-4"},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"请输入订单号或者用户手机号码"},on:{change:e.getSearchList},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[r("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:18}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.statusChange},model:{value:e.statusVal,callback:function(t){e.statusVal=t},expression:"statusVal"}},e._l(e.statusOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[r("el-table-column",{attrs:{label:"ID",prop:"id",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单号",prop:"order_no"}}),e._v(" "),r("el-table-column",{attrs:{label:"用户信息"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.userList,(function(n){return n.uuid==t.row.user_id?r("span",{staticClass:"text-blue-500"},[e._v(e._s(n.username)+" / "+e._s(n.mobile))]):e._e()}))}}])}),e._v(" "),r("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.dateFormat(t.row.create_time)))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"订单金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"text-red-600"},[e._v("￥"+e._s((t.row.total/100).toFixed(2)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"数量",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.items.length))]}}])}),e._v(" "),r("el-table-column",{attrs:{type:"expand",label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.items}},[r("el-table-column",{attrs:{label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.cover,width:"30",height:"30"}})]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{label:"成本"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{},[e._v("￥"+e._s((t.row.price_cost/100).toFixed(2)))])]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{label:"单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"text-red-600"},[e._v("￥"+e._s((t.row.price/100).toFixed(2)))])]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{label:"购买数量",prop:"num"}}),e._v(" "),r("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"text-red-600"},[e._v("￥"+e._s((t.row.total/100).toFixed(2)))])]}}],null,!0)})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{domProps:{innerHTML:e._s(e.showAddress(t.row.address))}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?r("span",{staticClass:"text-red-600"},[e._v("未付款")]):e._e(),e._v(" "),1==t.row.status?r("span",{staticClass:"text-orange-600"},[e._v("待发货")]):e._e(),e._v(" "),2==t.row.status?r("span",{staticClass:"text-blue-600"},[e._v("待收货")]):e._e(),e._v(" "),3==t.row.status?r("span",[e._v("已完成")]):e._e(),e._v(" "),-1==t.row.status?r("span",[e._v("已取消")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?r("el-button",{attrs:{type:"warning",plain:"",size:"small"},on:{click:function(r){return e.orderCancel(t.row)}}},[e._v("取消订单")]):e._e(),e._v(" "),0==t.row.status?r("el-button",{staticClass:"text-red-600",attrs:{type:"danger",plain:"",size:"small"},on:{click:function(r){return e.orderComplete(t.row)}}},[e._v("确认付款")]):e._e(),e._v(" "),1==t.row.status?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){return e.orderExpressBtnClick(t.row)}}},[e._v("发货信息填写")]):e._e(),e._v(" "),2==t.row.status?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){return e.orderExpressBtnClick(t.row)}}},[e._v("发货信息修改")]):e._e()]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"mt-4",attrs:{"current-page":e.page,"page-size":e.limit,layout:"prev, pager, next, total, jumper",total:e.count},on:{"current-change":e.pageChange,"prev-click":e.pageChange,"next-click":e.pageChange}}),e._v(" "),r("el-dialog",{attrs:{title:"商品发货",visible:e.dialogExpressUpdateVisible},on:{"update:visible":function(t){e.dialogExpressUpdateVisible=t}}},[r("el-form",{ref:"formExpressUpdate",attrs:{model:e.expressData,"label-width":"100px",rules:e.rulesExpressData}},[r("el-form-item",{attrs:{label:"物流公司",prop:"company"}},[r("el-input",{model:{value:e.expressData.company,callback:function(t){e.$set(e.expressData,"company",t)},expression:"expressData.company"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"物流单号",prop:"no"}},[r("el-input",{model:{value:e.expressData.no,callback:function(t){e.$set(e.expressData,"no",t)},expression:"expressData.no"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogExpressUpdateVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.orderExpressInfoUpdateBtn.disabled},on:{click:e.orderExpressInfoUpdate}},[e._v("确定")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);